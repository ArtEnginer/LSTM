<h1>Real-Time Temperature and Humidity Forecast</h1>
<button id="predict-btn">Get Forecast for Next 15 Minutes</button>
<div id="forecast-results"></div>

<script>
    document.getElementById('predict-btn').addEventListener('click', function () {
        fetch('/realtime_predict', {
            method: 'POST'
        })
            .then(response => response.json())
            .then(data => {
                const resultsDiv = document.getElementById('forecast-results');
                if (data.status === 'success') {
                    const forecastHtml = Object.entries(data.predictions).map(([time, values]) => {
                        return `<p>${time}: Temp - ${values['RmTmp - DH01_ROW01_LA_TTHT01'].toFixed(2)} °C, 
                                  Temp2 - ${values['RmTmp - DH01_ROW01_LA_TTHT02'].toFixed(2)} °C, 
                                  Humidity1 - ${values['RmRhTL - DH01_ROW01_LA_TTHT01'].toFixed(2)} %, 
                                  Humidity2 - ${values['RmRhTL - DH01_ROW01_LA_TTHT02'].toFixed(2)} %</p>`;
                    }).join('');
                    resultsDiv.innerHTML = `<h2>Forecast for Next 15 Minutes</h2>${forecastHtml}`;
                } else {
                    resultsDiv.innerHTML = `<p>Error: ${data.message}</p>`;
                }
            })
            .catch(error => {
                document.getElementById('forecast-results').innerHTML = `<p>Error: ${error.message}</p>`;
            });
    });
</script>